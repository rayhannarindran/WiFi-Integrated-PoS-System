{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error inserting token: sanitizedRecord is not defined","service":"db-service","stack":"ReferenceError: sanitizedRecord is not defined\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:14:36\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async insertTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:12:7)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:214:13)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"},"level":"error","message":"Error inserting token: E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","service":"db-service","stack":"MongoServerError: E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }\n    at InsertOneOperation.execute (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/execute_operation.js:136:16)\n    at async Collection.insertOne (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/collection.js:154:16)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding token: Token not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Token not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:29:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async findTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:25:14)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:192:22)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token deleted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding tokens: sanitizeInput is not a function","service":"db-service","stack":"TypeError: sanitizeInput is not a function\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:94:41\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async findTokensByCriteria (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:92:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:187:13)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Maximum devices limit reached","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Maximum devices limit reached\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:113:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDeviceToToken (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:179:13)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Maximum devices limit reached","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Maximum devices limit reached\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:114:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDeviceToToken (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:107:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:180:13)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Maximum devices limit reached","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Maximum devices limit reached\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:114:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDeviceToToken (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:107:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:180:13)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:140:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDeviceFromToken (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:130:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:206:17)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"},"level":"error","message":"Error inserting token: E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","service":"db-service","stack":"MongoServerError: E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }\n    at InsertOneOperation.execute (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/execute_operation.js:136:16)\n    at async Collection.insertOne (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/collection.js:154:16)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token deleted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"_message":"Token validation failed","errors":{"devices_connected.0.device_id":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"exampleDeviceId\" (type string) at path \"device_id\" because of \"BSONError\"","name":"CastError","path":"device_id","reason":{},"stringValue":"\"exampleDeviceId\"","value":"exampleDeviceId","valueType":"string"}},"message":"Token validation failed: devices_connected.0.device_id: Cast to ObjectId failed for value \"exampleDeviceId\" (type string) at path \"device_id\" because of \"BSONError\"","name":"ValidationError"},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"_message":"Token validation failed","errors":{"devices_connected.0.device_id":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"exampleDeviceId\" (type string) at path \"device_id\" because of \"BSONError\"","name":"CastError","path":"device_id","reason":{},"stringValue":"\"exampleDeviceId\"","value":"exampleDeviceId","valueType":"string"}},"message":"Token validation failed: devices_connected.0.device_id: Cast to ObjectId failed for value \"exampleDeviceId\" (type string) at path \"device_id\" because of \"BSONError\"","name":"ValidationError"},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"_message":"Token validation failed","errors":{"devices_connected.0.device_id":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"exampleDeviceId\" (type string) at path \"device_id\" because of \"BSONError\"","name":"CastError","path":"device_id","reason":{},"stringValue":"\"exampleDeviceId\"","value":"exampleDeviceId","valueType":"string"}},"message":"Token validation failed: devices_connected.0.device_id: Cast to ObjectId failed for value \"exampleDeviceId\" (type string) at path \"device_id\" because of \"BSONError\"","name":"ValidationError"},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"_message":"Token validation failed","errors":{"devices_connected.0.device_id":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"exampleDeviceId\" (type string) at path \"device_id\" because of \"BSONError\"","name":"CastError","path":"device_id","reason":{},"stringValue":"\"exampleDeviceId\"","value":"exampleDeviceId","valueType":"string"}},"level":"error","message":"Error adding device: Token validation failed: devices_connected.0.device_id: Cast to ObjectId failed for value \"exampleDeviceId\" (type string) at path \"device_id\" because of \"BSONError\"","service":"db-service","stack":"ValidationError: Token validation failed: devices_connected.0.device_id: Cast to ObjectId failed for value \"exampleDeviceId\" (type string) at path \"device_id\" because of \"BSONError\"\n    at Document.invalidate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/document.js:3312:32)\n    at Subdocument.invalidate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/document.js:1474:12)\n    at EmbeddedDocument.$set (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/document.js:1128:16)\n    at EmbeddedDocument.Document (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/document.js:177:12)\n    at EmbeddedDocument.Subdocument (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/types/arraySubdocument.js:44:15)\n    at new EmbeddedDocument (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/schema/documentArray.js:130:17)\n    at Proxy._cast (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/types/documentArray/methods/index.js:103:17)\n    at Proxy._mapCast (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/types/array/methods/index.js:263:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: deviceRecord is not defined","service":"db-service","stack":"ReferenceError: deviceRecord is not defined\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:125:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:245:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"token_id\" must be a string","service":"db-service","stack":"Error: Validation error: \"token_id\" must be a string\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:112:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:132:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:246:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: Token ID is required","service":"db-service","stack":"Error: Validation error: Token ID is required\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:117:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:132:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:246:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"token_id\" must be a string","service":"db-service","stack":"Error: Validation error: \"token_id\" must be a string\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:117:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:132:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:246:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"token_id\" must be a string","service":"db-service","stack":"Error: Validation error: \"token_id\" must be a string\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:116:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:132:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:246:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"token_id\" must be a string","service":"db-service","stack":"Error: Validation error: \"token_id\" must be a string\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:116:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:131:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:245:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: Cannot set property _bsontype of [object Object] which has only a getter","service":"db-service","stack":"Error: Validation error: Cannot set property _bsontype of [object Object] which has only a getter\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:113:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:131:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:196:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: Cannot set property _bsontype of [object Object] which has only a getter","service":"db-service","stack":"Error: Validation error: Cannot set property _bsontype of [object Object] which has only a getter\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:113:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:130:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:196:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"token_id\" must be a string","service":"db-service","stack":"Error: Validation error: \"token_id\" must be a string\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:112:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:130:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:196:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"token_id\" must be a string","service":"db-service","stack":"Error: Validation error: \"token_id\" must be a string\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:112:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:130:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:196:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"token_id\" must be a string","service":"db-service","stack":"Error: Validation error: \"token_id\" must be a string\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:112:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:131:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:198:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"disconnected_at\" must be a valid date","service":"db-service","stack":"Error: Validation error: \"disconnected_at\" must be a valid date\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:112:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:133:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:200:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"$__\" is not allowed","service":"db-service","stack":"Error: Validation error: \"$__\" is not allowed\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:112:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:133:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:200:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: tokenRecord._id.toObject is not a function","service":"db-service","stack":"TypeError: tokenRecord._id.toObject is not a function\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:124:47\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:200:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"$__\" is not allowed","service":"db-service","stack":"Error: Validation error: \"$__\" is not allowed\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:112:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:133:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:201:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Maximum devices limit reached","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Maximum devices limit reached\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:117:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:200:17)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"$__\" is not allowed","service":"db-service","stack":"Error: Validation error: \"$__\" is not allowed\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:112:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:133:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:200:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"$__\" is not allowed","service":"db-service","stack":"Error: Validation error: \"$__\" is not allowed\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:112:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:133:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:200:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Validation error: \"$__\" is not allowed","service":"db-service","stack":"Error: Validation error: \"$__\" is not allowed\n    at validateDeviceRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:112:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:133:13\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:200:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"_message":"Device validation failed","errors":{"device_id":{"kind":"required","message":"Path `device_id` is required.","name":"ValidatorError","path":"device_id","properties":{"message":"Path `device_id` is required.","path":"device_id","type":"required","value":null},"value":null}},"message":"Device validation failed: device_id: Path `device_id` is required.","name":"ValidationError"},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"_message":"Device validation failed","errors":{"device_id":{"kind":"required","message":"Path `device_id` is required.","name":"ValidatorError","path":"device_id","properties":{"message":"Path `device_id` is required.","path":"device_id","type":"required","value":null},"value":null}},"message":"Device validation failed: device_id: Path `device_id` is required.","name":"ValidationError"},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"_message":"Device validation failed","errors":{"device_id":{"kind":"required","message":"Path `device_id` is required.","name":"ValidatorError","path":"device_id","properties":{"message":"Path `device_id` is required.","path":"device_id","type":"required","value":null},"value":null}},"message":"Device validation failed: device_id: Path `device_id` is required.","name":"ValidationError"},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"_message":"Device validation failed","errors":{"device_id":{"kind":"required","message":"Path `device_id` is required.","name":"ValidatorError","path":"device_id","properties":{"message":"Path `device_id` is required.","path":"device_id","type":"required","value":null},"value":null}},"level":"error","message":"Error adding device: Device validation failed: device_id: Path `device_id` is required.","service":"db-service","stack":"ValidationError: Device validation failed: device_id: Path `device_id` is required.\n    at Document.invalidate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/document.js:3312:32)\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/document.js:3073:17\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: No devices connected","name":"DbServiceError","service":"db-service","stack":"DbServiceError: No devices connected\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:156:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:233:17)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Device.findOneAndRemove is not a function","service":"db-service","stack":"TypeError: Device.findOneAndRemove is not a function\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:160:47\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:233:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: deviceRecord is not defined","service":"db-service","stack":"ReferenceError: deviceRecord is not defined\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:166:65\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:233:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:162:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:235:17)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Maximum devices limit reached","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Maximum devices limit reached\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:117:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:232:17)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:162:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:235:17)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: No devices connected","name":"DbServiceError","service":"db-service","stack":"DbServiceError: No devices connected\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:156:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:237:17)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Test error","service":"db-service","stack":"Error: Test error\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:170:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:237:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Device not found in token","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found in token\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:169:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:235:17)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Cannot read properties of undefined (reading 'toString')","service":"db-service","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:168:64\n    at Proxy.findIndex (<anonymous>)\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:167:57\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:237:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Cannot read properties of undefined (reading 'toString')","service":"db-service","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:168:46\n    at Proxy.findIndex (<anonymous>)\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:167:57\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:237:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Cannot read properties of undefined (reading 'toString')","service":"db-service","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:168:58\n    at Proxy.findIndex (<anonymous>)\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:167:57\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:237:17)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: No devices connected","name":"DbServiceError","service":"db-service","stack":"DbServiceError: No devices connected\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:156:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:232:17)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error adding device: Maximum devices limit reached","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Maximum devices limit reached\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:117:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async addDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:106:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:229:17)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:163:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:232:17)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: No devices connected","name":"DbServiceError","service":"db-service","stack":"DbServiceError: No devices connected\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:156:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:145:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:232:17)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device ${device} added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"device_id":"exampleDeviceId","ip_address":"192.168.1.1","level":"info","mac_address":"00:00:00:00:00:00","message":"Device","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"DeviceexampleDeviceIdadded successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device exampleDeviceId added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device 'exampleDeviceId' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding tokens: token is not defined","service":"db-service","stack":"ReferenceError: token is not defined\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:98:38\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async findTokensByCriteria (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:95:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:226:33)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding tokens: token is not defined","service":"db-service","stack":"ReferenceError: token is not defined\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:98:38\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async findTokensByCriteria (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:95:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:226:33)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding tokens: token is not defined","service":"db-service","stack":"ReferenceError: token is not defined\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:98:38\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async findTokensByCriteria (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:95:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:226:33)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding tokens: token is not defined","service":"db-service","stack":"ReferenceError: token is not defined\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:98:38\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async findTokensByCriteria (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:95:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:226:33)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'undefined' with criterisa '[object Object]' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"1 Tokens with criteria '[object Object]' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"1 Tokens with criteria '[object Object]' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"1 Tokens with criteria 'test' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"1 Tokens with criteria 'test' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"1 Tokens with criteria '{\n  \"status\": \"valid\"\n}' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"1 Tokens with criteria '{\n \"status\": \"valid\"\n}' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"1 Tokens with criteria '{\"status\":\"valid\"}' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device 'exampleDeviceId' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device 'exampleDeviceId' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' deleted successfully!","service":"db-service"}
{"level":"error","message":"Failed to connect to MongoDB: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"db-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:219:11)\n    at NativeConnection.openUri (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/connection.js:826:34)\n    at Mongoose.connect (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/mongoose.js:447:15)\n    at getConnection (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbConnection.js:9:37)\n    at /home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:27:40\n    at retryOperation (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:20)\n    at Object.findTokenRecord (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:26:22)\n    at /home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/server.js:29:40\n    at Layer.handle [as handle_request] (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/express/lib/router/route.js:149:13)"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"level":"error","message":"Failed to connect to MongoDB: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"db-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:219:11)\n    at NativeConnection.openUri (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/connection.js:826:34)\n    at Mongoose.connect (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/mongoose.js:447:15)\n    at getConnection (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbConnection.js:9:37)\n    at /home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:27:40\n    at retryOperation (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:20)\n    at async Object.findTokenRecord (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:26:16)\n    at async /home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/server.js:29:24"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"level":"error","message":"Failed to connect to MongoDB: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"db-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:219:11)\n    at NativeConnection.openUri (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/connection.js:826:34)\n    at Mongoose.connect (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/mongoose.js:447:15)\n    at getConnection (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbConnection.js:9:37)\n    at /home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:27:40\n    at retryOperation (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:20)\n    at async Object.findTokenRecord (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:26:16)\n    at async /home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/server.js:29:24"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding token: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"db-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:219:11)\n    at NativeConnection.openUri (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/connection.js:826:34)\n    at Mongoose.connect (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/mongoose.js:447:15)\n    at getConnection (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbConnection.js:9:37)\n    at /home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:27:40\n    at retryOperation (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:20)\n    at async Object.findTokenRecord (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:26:16)\n    at async /home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/server.js:29:24"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Closed MongoDB connection","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"1 Tokens with criteria '{\"status\":\"valid\"}' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: No devices connected","name":"DbServiceError","service":"db-service","stack":"DbServiceError: No devices connected\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:157:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:146:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:225:17)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' deleted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:11:22:33:44:55' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"exampleToken"},"level":"error","message":"Error inserting token: E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }","service":"db-service","stack":"MongoServerError: E11000 duplicate key error collection: pos_dummy.tokens index: token_1 dup key: { token: \"exampleToken\" }\n    at InsertOneOperation.execute (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/execute_operation.js:136:16)\n    at async Collection.insertOne (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/collection.js:154:16)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null},"level":"error","message":"Error adding device: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","service":"db-service","stack":"MongoServerError: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }\n    at InsertOneOperation.execute (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/execute_operation.js:136:16)\n    at async Collection.insertOne (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/collection.js:154:16)"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null},"level":"error","message":"Error adding device: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","service":"db-service","stack":"MongoServerError: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }\n    at InsertOneOperation.execute (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/execute_operation.js:136:16)\n    at async Collection.insertOne (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/collection.js:154:16)"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null},"level":"error","message":"Error adding device: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","service":"db-service","stack":"MongoServerError: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }\n    at InsertOneOperation.execute (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/execute_operation.js:136:16)\n    at async Collection.insertOne (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/collection.js:154:16)"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null},"level":"error","message":"Error adding device: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","service":"db-service","stack":"MongoServerError: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }\n    at InsertOneOperation.execute (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/execute_operation.js:136:16)\n    at async Collection.insertOne (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/collection.js:154:16)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null},"level":"error","message":"Error adding device: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","service":"db-service","stack":"MongoServerError: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }\n    at InsertOneOperation.execute (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/execute_operation.js:136:16)\n    at async Collection.insertOne (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/collection.js:154:16)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null},"level":"error","message":"Error adding device: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","service":"db-service","stack":"MongoServerError: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }\n    at InsertOneOperation.execute (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/execute_operation.js:136:16)\n    at async Collection.insertOne (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/collection.js:154:16)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null}},"index":0,"keyPattern":{"device_id":1},"keyValue":{"device_id":null},"level":"error","message":"Error adding device: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }","service":"db-service","stack":"MongoServerError: E11000 duplicate key error collection: pos_dummy.devices index: device_id_1 dup key: { device_id: null }\n    at InsertOneOperation.execute (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/operations/execute_operation.js:136:16)\n    at async Collection.insertOne (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongodb/lib/collection.js:154:16)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:11' added successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' added successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:00' added successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:204:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:182:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:269:17)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:164:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:147:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:265:17)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: Invalid atomic update value for $set. Expected an object, received number","service":"db-service","stack":"Error: Invalid atomic update value for $set. Expected an object, received number\n    at castUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/helpers/query/castUpdate.js:115:13)\n    at model.Query._castUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:4669:10)\n    at model.Query._findOneAndUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:3379:23)\n    at model.Query.exec (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:4412:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:197:34\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:182:16)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: Invalid atomic update value for $set. Expected an object, received number","service":"db-service","stack":"Error: Invalid atomic update value for $set. Expected an object, received number\n    at castUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/helpers/query/castUpdate.js:115:13)\n    at model.Query._castUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:4669:10)\n    at model.Query._findOneAndUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:3379:23)\n    at model.Query.exec (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:4412:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:197:34\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:182:16)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: Invalid atomic update value for $set. Expected an object, received number","service":"db-service","stack":"Error: Invalid atomic update value for $set. Expected an object, received number\n    at castUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/helpers/query/castUpdate.js:115:13)\n    at model.Query._castUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:4669:10)\n    at model.Query._findOneAndUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:3379:23)\n    at model.Query.exec (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:4412:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:197:34\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:182:16)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:204:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:182:16)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)","statusCode":404}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: No devices connected","name":"DbServiceError","service":"db-service","stack":"DbServiceError: No devices connected\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:193:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:182:16)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)","statusCode":400}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":400},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: No devices connected","name":"DbServiceError","service":"db-service","stack":"DbServiceError: No devices connected\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:193:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:182:16)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)","statusCode":400}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:90' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:89:90' added successfully!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:204:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:182:16)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:204:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:182:16)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"error","message":"Error updating token: Validation error: \"value\" must be of type object","service":"db-service","stack":"Error: Validation error: \"value\" must be of type object\n    at validateTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:96:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.updateTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:42:9)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"error","message":"Error updating token: Validation error: \"value\" must be of type object","service":"db-service","stack":"Error: Validation error: \"value\" must be of type object\n    at validateTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:96:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.updateTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:42:9)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"error","message":"Error updating token: Validation error: \"value\" must be of type object","service":"db-service","stack":"Error: Validation error: \"value\" must be of type object\n    at validateTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:96:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.updateTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:42:9)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"error","message":"Error updating token: Validation error: \"value\" must be of type object","service":"db-service","stack":"Error: Validation error: \"value\" must be of type object\n    at validateTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:96:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.updateTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:42:9)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: Invalid atomic update value for $set. Expected an object, received number","service":"db-service","stack":"Error: Invalid atomic update value for $set. Expected an object, received number\n    at castUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/helpers/query/castUpdate.js:115:13)\n    at model.Query._castUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:4669:10)\n    at model.Query._findOneAndUpdate (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:3379:23)\n    at model.Query.exec (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/node_modules/mongoose/lib/query.js:4412:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:197:34\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:182:16)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:34:9)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:225:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async findDeviceByID (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:221:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:289:32)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '6720ed557af737ebd80d082d' Found!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' deleted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '6720ef1e52c28e0ca8eef803' Found!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' deleted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '6720ef6cc0264a03def7672b' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:225:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findDeviceByID (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:221:16)\n    at async connectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:38:22)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '6720ef6cc0264a03def7672b' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' updated successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '6720ef6cc0264a03def7672b' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '6720f079892cffba76eb5283' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding device: device_id is not defined","service":"db-service","stack":"ReferenceError: device_id is not defined\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:224:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async findDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:221:16)\n    at async runService (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:303:26)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Token not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Token not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:152:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:147:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:70:9)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Token not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Token not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:152:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:147:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:70:9)","statusCode":404}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Token not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Token not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:152:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:147:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:70:9)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding token: Token not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Token not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:29:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:25:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:70:29)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token '6720ef683e02cf9b3c90fc08' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding token: Token not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Token not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:29:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findTokenRecord (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:25:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:70:29)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:256:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findDeviceByID (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:252:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:67:23)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:256:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findDeviceByID (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:252:16)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Token not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Token not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:169:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:164:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:70:9)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error removing device: Token not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Token not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:169:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.removeDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:164:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:70:9)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token '6720ef683e02cf9b3c90fc08' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:256:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findDeviceByID (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:252:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:67:29)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token '6720ef683e02cf9b3c90fc08' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:256:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findDeviceByID (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:252:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:67:29)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:98' removed successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' Found!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:256:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findDeviceByID (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:252:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:67:29)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' Found!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' Found!","service":"db-service"}
{"level":"info","message":"Token '6720ef683e02cf9b3c90fc08' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error updating device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:221:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.updateDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:199:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:78:9)","statusCode":404}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '6720ef6cc0264a03def7672b' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' Found!","service":"db-service"}
{"level":"info","message":"Token '6720ef683e02cf9b3c90fc08' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Device '6720ef6cc0264a03def7672b' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' updated successfully!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:256:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findDeviceByID (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:252:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:90:22)","statusCode":404}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '6720ef6cc0264a03def7672b' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' Found!","service":"db-service"}
{"level":"info","message":"Token '6720ef683e02cf9b3c90fc08' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Device '6720ef6cc0264a03def7672b' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' updated successfully!","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding device: Device not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Device not found\n    at /home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:256:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findDeviceByID (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:252:16)\n    at async disconnectDevice (/home/narindrans-wsl/programming/WiFi-Integrated-PoS-System/backend/controllers/tokenController.js:90:22)","statusCode":404}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' Found!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' added successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '6720ef6cc0264a03def7672b' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '6720f9f77c1d86b17cafcc2a' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' Found!","service":"db-service"}
{"level":"info","message":"Token '6720ef683e02cf9b3c90fc08' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:99:99' removed successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '6720ef6cc0264a03def7672b' Found!","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{"name":"DbServiceError","statusCode":404},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"error","message":"Error finding token: Token not found","name":"DbServiceError","service":"db-service","stack":"DbServiceError: Token not found\n    at /home/orangepi/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:29:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async retryOperation (/home/orangepi/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbUtils.js:34:14)\n    at async Object.findTokenRecord (/home/orangepi/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:25:16)\n    at async connectDevice (/home/orangepi/programming/WiFi-Integrated-PoS-System/backend/controllers/deviceController.js:10:29)","statusCode":404}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:11:22:33:44:55' added successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:11:22:33:44:55' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '6731aca7935e56d368458d56' Found!","service":"db-service"}
{"level":"info","message":"Device '00:11:22:33:44:55' updated successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:11:22:33:44:66' added successfully!","service":"db-service"}
{"level":"info","message":"Token 'exampleToken' Found!","service":"db-service"}
{"level":"info","message":"Device '00:11:22:33:44:66' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '6731aca7935e56d368458d56' Found!","service":"db-service"}
{"level":"info","message":"Device '00:11:22:33:44:55' updated successfully!","service":"db-service"}
{"level":"info","message":"Device '6731acc7935e56d368458d69' Found!","service":"db-service"}
{"level":"info","message":"Device '00:11:22:33:44:66' updated successfully!","service":"db-service"}
{"level":"error","message":"Error inserting token: Validation error: Purchase ID is required","service":"db-service","stack":"Error: Validation error: Purchase ID is required\n    at validateTokenRecord (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbValidation.js:96:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.insertTokenRecord (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/services/dbService/dbService.js:10:7)\n    at async createTransaction (/home/rayhannarindran/programming/WiFi-Integrated-PoS-System/backend/controllers/transactionController.js:12:9)"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Token inserted successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:00' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Device '00:00:00:00:00:01' added successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (1/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (2/3)","service":"db-service"}
{"error":{},"level":"warn","message":"Operation failed, retrying (3/3)","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
{"level":"info","message":"Connected to MongoDB","service":"db-service"}
{"level":"info","message":"Database updated successfully!","service":"db-service"}
